# 1. 컴퓨터 하드웨어의 구성

컴퓨터에는 물리적인 기계장치, 하드웨어와 작업을 지시하는 명령어로 작성된 프로그램인 소프트웨어가 존재한다. `운영체제는 컴퓨터 하드웨어를 관리하는 소프트웨어`이다. 그러므로 하드웨어에 관해 간단히 알아갈 필요가 있다.



## (1) 프로세서 (중앙처리장치, CPU)

프로세서는 컴퓨터 하드웨어의 모든 장치의 동작을 제어하고 명령을 실행한다. `CPU(Central Processing Unit)`라고도 한다. CPU와 프로세서를 서로 구분하며 사용하지는 않지만 CPU보다 프로세서가 좀 더 소프트웨어의 관점에서 사용되어진다.



프로세서는 `연산장치, 제어장치, 레지스터`로 구성되고, 이들은 서로 내부 버스로 연결된다.



레지스터는 여러 관점으로 구분할 수 있다.

**용도**에 따라 `전용 레지스터`와 `범용 레지스터` 로 구분할 수 있다.

**사용자가 정보를 변경할 수 있는지 여부**에 따라 `사용자 가시 레지스터`, `사용자 불가시 레지스터`



### 사용자 가시 레지스터 (사용자가 정보를 변경 가능)

- 데이터 레지스터(DR, Data Register) : 함수 연산에 필요한 데이터를 저장한다. 값, 문자등을 통해 산술 연산이나 논리 연산에 사용하며, 연산 결과로 flag를 저장한다.
- 주소 레지스터(AR, Address Register) : 주소와 유효 주소를 계산하는 데 필요한 주소의 일부분을 저장한다.



### 사용자 불가시 레지스터 (사용자가 정보 변경이 불가)

- 프로그램 카운터 (PC, Program Counter) : 다음에 실행할 명령어의 주소를 보관하는 레지스터
- 명령어 레지스터 (IR, Instruction Register) : 현재 실행하는 명령어를 보관하는 레지스터
- 누산기 (ACC, Accumulator) : 데이터를 일시적으로 저장하는 레지스터
- 메모리 주소 레지스터 (MAR, Memory Address Register) : 프로세서가 참조하려는 데이터의 주소를 명시하여 메모리에 접근하는 버퍼 레지스터이다.
- 메모리 버퍼 레지스터 (MBR, Memory Buffer Register) : 프로세서가 메모리에서 읽거나 메모리에 저장할 데이터 자체를 보관하는 버퍼 레지스터이다. 메모리 데이터 레지스터 라고도 한다.



## (2) 메모리

메모리는 컴퓨터의 성능과 밀접한 관계를 가지고 있다. 당연히 빠르고 큰 메모리가 좋은 것인데, 속도가 빠른 메모리의 가격은 매우 비싸서 보통 `메모리 계층 구조`를 구성하여 비용, 속도, 용량, 접근시간 등을 상호 보완한다.

속도는 느리나 용량이 큰 보조기억장치부터 속도가 빠르지만 용량이 작은 레지스터까지 메모리의 종류는 다양하다.

불필요한 프로그램과 데이터는 보조기억장치에 저장했다가, 실행 및 참조를 할 때만 메인 메모리로 옮기는 원리를 적용한 방법이다.



### 레지스터

프로세서 내부에 있으며, 프로세서가 사용할 데이터를 보관하는 가장 빠른 메모리이다.



### 메인 메모리

프로세서 외부에 있으며, 프로세서에서 즉각적으로 수행할 프로그램과 데이터를 저장하거나 프로세서에서 처리한 결과를 메인 메모리에 저장한다. 입출력장치도 메인 메모리에서 데이터를 받거나 저장한다.

주기억장치 또는 1차 기억장치라고도 한다. 저장 밀도가 높고 가격이 싼 DRAM을 많이 사용한다.

메인 메모리는 다수의 `셀(cell)`로 구성되며, 각 셀은 비트로 구성된다. 셀이 K비트이면, 셀에 2^K값을 저장할 수 있다. `메인 메모리에 데이터를 저장할 때는 셀 한 개나 여러 개에 나누어 저장한다.` 셀은 주소를 참조하는데 n비트라면 주소의 범위는 0 ~ 2^n - 1이다.

컴퓨터에 주어진 주소를 `물리적 주소`라고 하는데, 프로그래머는 물리적 주소 대신 수식이나 변수를 사용한다. 이는 `컴파일러`가 프로그램을 기계 명령어로 변환할 때 변수와 명령어에 주소를 할당한다. 이러한 주소를 `논리적 주소`라고 한다. 컴파일로 `논리적 주소를 물리적 주소로 변환` 하는데 이러한 과정을 **`매핑 mapping`** 이라고 한다.



### 캐시

프로세서의 내부나 외부에 존재하며, 처리 속도가 빠른 프로세서와 상대적으로 느린 메인 메모리의 속도 차이를 보완하는 고속 버퍼이다.

캐시는 메인 메모리에서 데이터를 블록 단위로 가져와 프로세서에 워드 단위로 전달하여 속도를 높인다.

프로세서는 메인 메모리에 접근하기 전에 캐시에 해당 주소의 자료가 있는지 먼저 확인한다.

캐시의 성능은 작은 용량의 캐시에 프로세서가 이후 참조할 정보가 얼마나 들어 있느냐로 좌우된다. 프로세서가 참조하려는 정보가 있을 때를 **`캐시 적중, cache hit`**이라 하고, 반대로 없을 때는 **`캐시 실패, cache miss`**라고 한다.